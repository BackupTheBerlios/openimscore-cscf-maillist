<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] [SVN-ser_ims] r656 - revised the implementation	of the anonymous calls: added a flag in the e_dialog info to	distinguish between anonymous and non-anonymous calls,	when an anonymous call is generated the E-CSCF sents the request-uri	of the OPTIONS to sip:anonymous at domain.org,	so that the LRF will recognize it as beeing for an anonymous call for	anonymous calls no ESQK is allocated,	and no ESQK header is added in the forwarded INVITE readded the	P_is_anonymous_user in the P-CSCF,	searching for the &quot;Anonymous&quot; display name in the From header,	as in RFC 3261 updated the testing and running scripts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20%5BSVN-ser_ims%5D%20r656%20-%20revised%20the%20implementation%0A%09of%20the%20anonymous%20calls%3A%20added%20a%20flag%20in%20the%20e_dialog%20info%20to%0A%09distinguish%20between%20anonymous%20and%20non-anonymous%20calls%2C%0A%09when%20an%20anonymous%20call%20is%20generated%20the%20E-CSCF%20sents%20the%20request-uri%0A%09of%20the%20OPTIONS%20to%20sip%3Aanonymous%40domain.org%2C%0A%09so%20that%20the%20LRF%20will%20recognize%20it%20as%20beeing%20for%20an%20anonymous%20call%20for%0A%09anonymous%20calls%20no%20ESQK%20is%20allocated%2C%0A%09and%20no%20ESQK%20header%20is%20added%20in%20the%20forwarded%20INVITE%20readded%20the%0A%09P_is_anonymous_user%20in%20the%20P-CSCF%2C%0A%09searching%20for%20the%20%22Anonymous%22%20display%20name%20in%20the%20From%20header%2C%0A%09as%20in%20RFC%203261%20updated%20the%20testing%20and%20running%20scripts&In-Reply-To=%3C200904241425.n3OEPVIX016860%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001685.html">
   <LINK REL="Next"  HREF="001688.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] [SVN-ser_ims] r656 - revised the implementation	of the anonymous calls: added a flag in the e_dialog info to	distinguish between anonymous and non-anonymous calls,	when an anonymous call is generated the E-CSCF sents the request-uri	of the OPTIONS to sip:anonymous at domain.org,	so that the LRF will recognize it as beeing for an anonymous call for	anonymous calls no ESQK is allocated,	and no ESQK header is added in the forwarded INVITE readded the	P_is_anonymous_user in the P-CSCF,	searching for the &quot;Anonymous&quot; display name in the From header,	as in RFC 3261 updated the testing and running scripts</H1>
    <B>aon at users.berlios.de</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20%5BSVN-ser_ims%5D%20r656%20-%20revised%20the%20implementation%0A%09of%20the%20anonymous%20calls%3A%20added%20a%20flag%20in%20the%20e_dialog%20info%20to%0A%09distinguish%20between%20anonymous%20and%20non-anonymous%20calls%2C%0A%09when%20an%20anonymous%20call%20is%20generated%20the%20E-CSCF%20sents%20the%20request-uri%0A%09of%20the%20OPTIONS%20to%20sip%3Aanonymous%40domain.org%2C%0A%09so%20that%20the%20LRF%20will%20recognize%20it%20as%20beeing%20for%20an%20anonymous%20call%20for%0A%09anonymous%20calls%20no%20ESQK%20is%20allocated%2C%0A%09and%20no%20ESQK%20header%20is%20added%20in%20the%20forwarded%20INVITE%20readded%20the%0A%09P_is_anonymous_user%20in%20the%20P-CSCF%2C%0A%09searching%20for%20the%20%22Anonymous%22%20display%20name%20in%20the%20From%20header%2C%0A%09as%20in%20RFC%203261%20updated%20the%20testing%20and%20running%20scripts&In-Reply-To=%3C200904241425.n3OEPVIX016860%40sheep.berlios.de%3E"
       TITLE="[OpenIMSCore-CSCF] [SVN-ser_ims] r656 - revised the implementation	of the anonymous calls: added a flag in the e_dialog info to	distinguish between anonymous and non-anonymous calls,	when an anonymous call is generated the E-CSCF sents the request-uri	of the OPTIONS to sip:anonymous at domain.org,	so that the LRF will recognize it as beeing for an anonymous call for	anonymous calls no ESQK is allocated,	and no ESQK header is added in the forwarded INVITE readded the	P_is_anonymous_user in the P-CSCF,	searching for the &quot;Anonymous&quot; display name in the From header,	as in RFC 3261 updated the testing and running scripts">aon at users.berlios.de
       </A><BR>
    <I>Fri Apr 24 16:25:31 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001685.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r655 - P-CSCF: modified the	p_dialog structure to include emergency service	information:emergency or non-emergency dialog,	the SIP URI of the selected  E-CSCF,	if emergency one P-CSCF: updated P_save_dialog to set if a dialog is	an emergency one and P_enforce_sos_routes to store the E-CSCF	URI to which the INVITE was forwarded P-CSCF: removed	P_is_anonymous_identity because it is easier from the script	updated the scripts added a sipp script for generating an	anonymous emergency call
</A></li>
        <LI>Next message: <A HREF="001688.html">[OpenIMSCore-CSCF] Any progress on charging interfaces?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1687">[ date ]</a>
              <a href="thread.html#1687">[ thread ]</a>
              <a href="subject.html#1687">[ subject ]</a>
              <a href="author.html#1687">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: aon
Date: 2009-04-24 16:25:16 +0200 (Fri, 24 Apr 2009)
New Revision: 656 <A HREF="http://svn.berlios.de/viewcvs/openimscore?view=rev&amp;rev=656">http://svn.berlios.de/viewcvs/openimscore?view=rev&amp;rev=656</A> 

Log:
revised the implementation of the anonymous calls: added a flag in the e_dialog info to distinguish between anonymous and non-anonymous calls, 
when an anonymous call is generated the E-CSCF sents the request-uri of the OPTIONS to sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">anonymous at domain.org</A>, so that the LRF will recognize it as 
beeing for an anonymous call
for anonymous calls no ESQK is allocated, and no ESQK header is added in the forwarded INVITE
readded the P_is_anonymous_user in the P-CSCF, searching for the &quot;Anonymous&quot; display name in the From header, as in RFC 3261
updated the testing and running scripts


Modified:
   U	ser_ims/branches/12_em_services/cfg/ecscf.cfg
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/cfg/ecscf.cfg?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/cfg/ecscf.cfg?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/cfg/lrf.cfg
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/cfg/lrf.cfg?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/cfg/lrf.cfg?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/cfg/pcscf.cfg
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/cfg/pcscf.cfg?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/cfg/pcscf.cfg?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/modules/ecscf/dlg_state.c
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/dlg_state.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/dlg_state.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/modules/ecscf/dlg_state.h
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/dlg_state.h?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/dlg_state.h?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/modules/ecscf/lrf.c
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/lrf.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/lrf.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/modules/ecscf/mod.c
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/mod.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/mod.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/modules/ecscf/route.c
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/route.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/route.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/modules/ecscf/route.h
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/route.h?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/ecscf/route.h?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/modules/pcscf/emerg.c
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/pcscf/emerg.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/pcscf/emerg.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/modules/pcscf/emerg.h
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/pcscf/emerg.h?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/pcscf/emerg.h?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/modules/pcscf/mod.c
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/pcscf/mod.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/modules/pcscf/mod.c?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>
   U	ser_ims/branches/12_em_services/test/emerg_serv/em_uac_anonym.xml
		<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/test/emerg_serv/em_uac_anonym.xml?rev=656&amp;view=diff&amp;r1=656&amp;r2=655">http://svn.berlios.de/viewcvs/openimscore/ser_ims/branches/12_em_services/test/emerg_serv/em_uac_anonym.xml?rev=656&amp;view=diff&amp;r1=656&amp;r2=655</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001685.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r655 - P-CSCF: modified the	p_dialog structure to include emergency service	information:emergency or non-emergency dialog,	the SIP URI of the selected  E-CSCF,	if emergency one P-CSCF: updated P_save_dialog to set if a dialog is	an emergency one and P_enforce_sos_routes to store the E-CSCF	URI to which the INVITE was forwarded P-CSCF: removed	P_is_anonymous_identity because it is easier from the script	updated the scripts added a sipp script for generating an	anonymous emergency call
</A></li>
	<LI>Next message: <A HREF="001688.html">[OpenIMSCore-CSCF] Any progress on charging interfaces?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1687">[ date ]</a>
              <a href="thread.html#1687">[ thread ]</a>
              <a href="subject.html#1687">[ subject ]</a>
              <a href="author.html#1687">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
