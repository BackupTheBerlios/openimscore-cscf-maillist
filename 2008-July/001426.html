<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] Modified Invite coming back from TAS not	recognized as different (Call Forwarding on Busy)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20Modified%20Invite%20coming%20back%20from%20TAS%20not%0A%09recognized%20as%20different%20%28Call%20Forwarding%20on%20Busy%29&In-Reply-To=%3CBFD1F2C20C3A4783846A387E82ED31BD%40notebook%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001425.html">
   <LINK REL="Next"  HREF="001427.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] Modified Invite coming back from TAS not	recognized as different (Call Forwarding on Busy)</H1>
    <B>Franz Edler</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20Modified%20Invite%20coming%20back%20from%20TAS%20not%0A%09recognized%20as%20different%20%28Call%20Forwarding%20on%20Busy%29&In-Reply-To=%3CBFD1F2C20C3A4783846A387E82ED31BD%40notebook%3E"
       TITLE="[OpenIMSCore-CSCF] Modified Invite coming back from TAS not	recognized as different (Call Forwarding on Busy)">franz.edler at inode.at
       </A><BR>
    <I>Sat Jul 26 21:45:32 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001425.html">[OpenIMSCore-CSCF] Modified Invite coming back from TAS not recognized as different (Call Forwarding on Busy)
</A></li>
        <LI>Next message: <A HREF="001427.html">[OpenIMSCore-CSCF] Modified Invite coming back from TAS not	recognized as different (Call Forwarding on Busy)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1426">[ date ]</a>
              <a href="thread.html#1426">[ thread ]</a>
              <a href="subject.html#1426">[ subject ]</a>
              <a href="author.html#1426">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Dick,

 

I just had a quick look at the scenario (attached) and could not find that
the INVITEs are not correctly sent to the target subscriber.

But what is rather very strange for me is the handling of the Record-Route
headers which are eliminated by the TAS. This is in contradiction to the SIP
specification.

 

Maybe you can point to the request where you think the problem might be.

 

Regards

Franz

 

  _____  

From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">openimscore-cscf-bounces at lists.berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">openimscore-cscf-bounces at lists.berlios.de</A>] On Behalf Of Dick Gooris
Sent: Saturday, July 26, 2008 7:09 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">openimscore-cscf at lists.berlios.de</A>
Subject: [OpenIMSCore-CSCF] Modified Invite coming back from TAS not
recognized as different (Call Forwarding on Busy)

 

Hello,

When adding a TAS to the OpenImsCore, I want to make the scenario that a
call gets forwarded due to a Busy Number.
The Invite that addresses the new number is received by the s-cscf, but not
treated in such way it actually sends it to the
alternative subscriber.  The s-cscf log says 'Trans already in processing...
skip', so it apparently cannot distinguish it as a new call.
The result is that the call forwarding does not take place.

The Tas is based on a stateless proxy, and therefore does not deal with any
alterations in the call-id's, tags, etc.

  Attached a one-page .png diagram of the call scenario illustrating the
issue including addresses, numbers, ifc's etc..

  Attached the call-trace for wireshark. This ends with the new Invite. 
     ( please set your preferences--&gt;protocols--&gt;ip--&gt;reassemble fragmented
ip datagrams to OFF )

  Attached the relevant piece of the s-cscf logfile that ends with the
'skip'.

I would assume that the s-cscf can distinguish the new call due to its new
request uri. How should this work ?

The software version of OpenIMSCore i'm using is of end of April.

Thanks in advance, and kind regards,

       - Dick Gooris 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20080726/24aebdcc/attachment.html">https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20080726/24aebdcc/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ims-trace.zip
Type: application/x-zip-compressed
Size: 12825 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20080726/24aebdcc/attachment.bin">https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20080726/24aebdcc/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001425.html">[OpenIMSCore-CSCF] Modified Invite coming back from TAS not recognized as different (Call Forwarding on Busy)
</A></li>
	<LI>Next message: <A HREF="001427.html">[OpenIMSCore-CSCF] Modified Invite coming back from TAS not	recognized as different (Call Forwarding on Busy)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1426">[ date ]</a>
              <a href="thread.html#1426">[ thread ]</a>
              <a href="subject.html#1426">[ subject ]</a>
              <a href="author.html#1426">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
