<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] Problems with PUBLISH and SUBSCRIBE methods
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20Problems%20with%20PUBLISH%20and%20SUBSCRIBE%20methods&In-Reply-To=%3C465AA478.4050001%40crg.ee.uct.ac.za%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000667.html">
   <LINK REL="Next"  HREF="000650.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] Problems with PUBLISH and SUBSCRIBE methods</H1>
    <B>Richard Good</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20Problems%20with%20PUBLISH%20and%20SUBSCRIBE%20methods&In-Reply-To=%3C465AA478.4050001%40crg.ee.uct.ac.za%3E"
       TITLE="[OpenIMSCore-CSCF] Problems with PUBLISH and SUBSCRIBE methods">rgood at crg.ee.uct.ac.za
       </A><BR>
    <I>Mon May 28 11:44:24 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000667.html">[OpenIMSCore-CSCF] S-CSCF crash
</A></li>
        <LI>Next message: <A HREF="000650.html">[OpenIMSCore-CSCF] Problems with PUBLISH and SUBSCRIBE methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#648">[ date ]</a>
              <a href="thread.html#648">[ thread ]</a>
              <a href="subject.html#648">[ subject ]</a>
              <a href="author.html#648">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am using OpenSER to act as a presence server with the OSIMS Core, but am
getting some strange feedback from the core entities.  I am not sure if
this is a problem with the App Server, the client implementation or the
core.

I have 2 IMS clients registered with the Core and they have both PUBLISHED
their presentity.  Each client SUBSCRIBES to the others presentity, and
when the presence status changes it should change at the watching client
as well.  This does work but sporadically I get two errors.  Sometimes
when the Presence server sends a NOTIFY to the watching client to indicate
that the presentity has changed the S-CSCF replies to the Presence server
with:

SIP/2.0 403 Forbidden - Dialog not found on S-CSCF or Terminating user not
suitable for unregistered services

The NOTIFY that generates this reply is no different from the previous
NOTIFIES that have correctly been passed to the clients.

The other error is that again when the Presence Server sends a NOTIFY to
the watching client the P-CSCF replies with:
SIP/2.0 403 Forbidden - Not Registered! You must register first with a S-CSCF

Again the NOTIFY is no different from the previous correctly processed
messages.  I have attached Wireshark traces for the 2 scenarios.

Any help would be much appreciated,

regards,
Richard

-------------- next part --------------
A non-text attachment was scrubbed...
Name: presence_trace_2
Type: application/octet-stream
Size: 10706 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20070528/885fe758/attachment.obj">https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20070528/885fe758/attachment.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: presence_trace_1
Type: application/octet-stream
Size: 11725 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20070528/885fe758/attachment-0001.obj">https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20070528/885fe758/attachment-0001.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000667.html">[OpenIMSCore-CSCF] S-CSCF crash
</A></li>
	<LI>Next message: <A HREF="000650.html">[OpenIMSCore-CSCF] Problems with PUBLISH and SUBSCRIBE methods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#648">[ date ]</a>
              <a href="thread.html#648">[ thread ]</a>
              <a href="subject.html#648">[ subject ]</a>
              <a href="author.html#648">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
