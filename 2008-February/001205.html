<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] P_is_registered (403 Forbidden)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20P_is_registered%20%28403%20Forbidden%29&In-Reply-To=%3C47C443D1.90302%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001204.html">
   <LINK REL="Next"  HREF="001207.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] P_is_registered (403 Forbidden)</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20P_is_registered%20%28403%20Forbidden%29&In-Reply-To=%3C47C443D1.90302%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-CSCF] P_is_registered (403 Forbidden)">Dragos.Vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Tue Feb 26 17:52:33 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001204.html">[OpenIMSCore-CSCF] P_is_registered (403 Forbidden)
</A></li>
        <LI>Next message: <A HREF="001207.html">[OpenIMSCore-CSCF] P_is_registered (403 Forbidden)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1205">[ date ]</a>
              <a href="thread.html#1205">[ thread ]</a>
              <a href="subject.html#1205">[ subject ]</a>
              <a href="author.html#1205">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Marco,

IMS promises you security. If you would be allowed to use any IP:port to
initiate calls in the name of any user, this won't work at all.

So you are only authorized to originate signaling from Contact addresses
that are currently registered and only with the authorized associated
identities.

In the best case the check should be on the source IP:port and not the
Via, but that bother a lot of NAT users. The change is trivial, but by
default we check the Via.

Cheers,
-Dragos


Marco Happenhofer wrote:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> We register a client at the IMS Core with Port 5060 (Contact: 
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">bob at x.x.x.x</A>:5060). Then the client starts a call and uses another port 
</I>&gt;<i> than 5060 as source port for sending and in its via header. According to 
</I>&gt;<i> the functionality of &quot;P_is_registered&quot; the P-CSCF rejects this request 
</I>&gt;<i> with &quot;403 Forbidden&quot;, because the port of the via header from INVITE 
</I>&gt;<i> does not match to the port of the contact header in the REGISTER.
</I>&gt;<i>
</I>&gt;<i> What is the reason for this behavior?
</I>&gt;<i> We found no indication why the via header connection parameters have to 
</I>&gt;<i> be equal to the connection parameters in the contact header of the 
</I>&gt;<i> registration.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-CSCF mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">OpenIMSCore-CSCF at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">https://lists.berlios.de/mailman/listinfo/openimscore-cscf</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
Fraunhofer FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)176 - 48 32 16 00
Web www.fokus.fraunhofer.de www.openimscore.org
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001204.html">[OpenIMSCore-CSCF] P_is_registered (403 Forbidden)
</A></li>
	<LI>Next message: <A HREF="001207.html">[OpenIMSCore-CSCF] P_is_registered (403 Forbidden)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1205">[ date ]</a>
              <a href="thread.html#1205">[ thread ]</a>
              <a href="subject.html#1205">[ subject ]</a>
              <a href="author.html#1205">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
