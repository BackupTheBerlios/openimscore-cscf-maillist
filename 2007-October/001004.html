<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] [Call Session Control Functions bug] fix loose	routing with TEL Req-URI with preloaded Route, check Service-Route
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2007-October/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20%5BCall%20Session%20Control%20Functions%20bug%5D%20fix%20loose%0A%09routing%20with%20TEL%20Req-URI%20with%20preloaded%20Route%2C%20check%20Service-Route&In-Reply-To=%3Ctype%3Dproject%26nid%3D114%26host%3D%40www.openimscore.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001003.html">
   <LINK REL="Next"  HREF="001005.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] [Call Session Control Functions bug] fix loose	routing with TEL Req-URI with preloaded Route, check Service-Route</H1>
    <B>placido</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20%5BCall%20Session%20Control%20Functions%20bug%5D%20fix%20loose%0A%09routing%20with%20TEL%20Req-URI%20with%20preloaded%20Route%2C%20check%20Service-Route&In-Reply-To=%3Ctype%3Dproject%26nid%3D114%26host%3D%40www.openimscore.org%3E"
       TITLE="[OpenIMSCore-CSCF] [Call Session Control Functions bug] fix loose	routing with TEL Req-URI with preloaded Route, check Service-Route">vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Thu Oct 18 14:37:56 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001003.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r462 - P-CSCF changes: Support for	PDF/PCRF negotiation with UPDATE/200 exchange New way to	correlate auth sessions with callids to identify the dialog	Diameter Abort-Session-Request support for the Gq and Rx	interfaces Now every dialog that is called once for release	(for example upon reciept of ASR) will have its expire time	drecreased so that we guarantee that is going to be a short	period there.
</A></li>
        <LI>Next message: <A HREF="001005.html">[OpenIMSCore-CSCF] [Call Session Control Functions bug] IPSec	information must be updated on the 2nd REGISTER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1004">[ date ]</a>
              <a href="thread.html#1004">[ thread ]</a>
              <a href="subject.html#1004">[ subject ]</a>
              <a href="author.html#1004">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Issue status update for 
<A HREF="http://www.openimscore.org/node/114">http://www.openimscore.org/node/114</A>
Post a follow up: 
<A HREF="http://www.openimscore.org/project/comments/add/114">http://www.openimscore.org/project/comments/add/114</A>

 Project:      Call Session Control Functions
 Version:      &lt;none&gt;
 Component:    Code
 Category:     bug reports
 Priority:     normal
 Assigned to:  
 Reported by:  placido
 Updated by:   placido
 Status:       active

Currently, rr module's loose_route fails simply because it finds a tel
Req-URI and doesn't even try to find &quot;myself&quot; in the first Route.
A previous fix was attempted (currently removed):
<A HREF="http://svn.berlios.de/viewcvs/openimscore/ser_ims/trunk/modules/rr/loose...">http://svn.berlios.de/viewcvs/openimscore/ser_ims/trunk/modules/rr/loose...</A>
But this fix only solved the first of the following situations affected
by this bug:
- AS sending initial INVITE to I-CSCF: AS includes Route with I-CSCF
URI, loose_route should simply remove this Route and let I-CSCF route
the request (ENUM).
- P-CSCF processing orig. initial INVITE: currently S-CSCF only sends
S-CSCF URI in Service-Route, then client does not include P-CSCF in
Route in initial INVITE, so loose_route has wrong behaviour even with
the above fix because it doesn't find &quot;myself&quot; (P-CSCF URI) in the first
Route. Service-Route should probably include P-CSCF.




placido


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001003.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r462 - P-CSCF changes: Support for	PDF/PCRF negotiation with UPDATE/200 exchange New way to	correlate auth sessions with callids to identify the dialog	Diameter Abort-Session-Request support for the Gq and Rx	interfaces Now every dialog that is called once for release	(for example upon reciept of ASR) will have its expire time	drecreased so that we guarantee that is going to be a short	period there.
</A></li>
	<LI>Next message: <A HREF="001005.html">[OpenIMSCore-CSCF] [Call Session Control Functions bug] IPSec	information must be updated on the 2nd REGISTER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1004">[ date ]</a>
              <a href="thread.html#1004">[ thread ]</a>
              <a href="subject.html#1004">[ subject ]</a>
              <a href="author.html#1004">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
