<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] PCSCF / Rx: Flow-Description AVP ends with	trailing space
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2011-November/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20PCSCF%20/%20Rx%3A%20Flow-Description%20AVP%20ends%20with%0A%09trailing%20space&In-Reply-To=%3C060A1BC7-197D-46C1-B82E-E7DEDEA06607%40TNO.NL%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002720.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] PCSCF / Rx: Flow-Description AVP ends with	trailing space</H1>
    <B>Cramer, E.R. (Eelco)</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20PCSCF%20/%20Rx%3A%20Flow-Description%20AVP%20ends%20with%0A%09trailing%20space&In-Reply-To=%3C060A1BC7-197D-46C1-B82E-E7DEDEA06607%40TNO.NL%3E"
       TITLE="[OpenIMSCore-CSCF] PCSCF / Rx: Flow-Description AVP ends with	trailing space">Eelco.Cramer at tno.nl
       </A><BR>
    <I>Tue Nov 29 10:49:11 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002720.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r1175 - pcscf: fixed in case the	charging interface is not used
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2721">[ date ]</a>
              <a href="thread.html#2721">[ thread ]</a>
              <a href="subject.html#2721">[ subject ]</a>
              <a href="author.html#2721">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In pcc_avp.c the option parameter of function &quot;PCC_create_media_subcomponent&quot; is always an empty string.

One thing this function does is creating the Flow-Description AVP, for example in this line:

&gt;<i> flow_data.len=snprintf(flow_data.s, len, &quot;permit out %s from %.*s %u to %.*s %s&quot;, proto, ipB.len, ipB.s, intportB, ipA.len, ipA.s, options);
</I>
Now because &quot;options&quot; is always an empty string this print command will always create a string with a trailing space character at the end. Some strict parsers will not validate this string because of the trailing space character, they will expect some kind of options string behind the space character.

There are several fixes for this issue. In my current patched I have just removed the options string all together because it is not used anyway.

Best regards,
Eelco
This e-mail and its contents are subject to the DISCLAIMER at <A HREF="http://www.tno.nl/emaildisclaimer">http://www.tno.nl/emaildisclaimer</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002720.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r1175 - pcscf: fixed in case the	charging interface is not used
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2721">[ date ]</a>
              <a href="thread.html#2721">[ thread ]</a>
              <a href="subject.html#2721">[ subject ]</a>
              <a href="author.html#2721">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
