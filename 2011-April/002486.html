<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] setkey (IPSEC) configuation
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2011-April/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20setkey%20%28IPSEC%29%20configuation&In-Reply-To=%3C220583.45737.qm%40web113612.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002483.html">
   <LINK REL="Next"  HREF="002487.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] setkey (IPSEC) configuation</H1>
    <B>Mohsen Emami-Nouri</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20setkey%20%28IPSEC%29%20configuation&In-Reply-To=%3C220583.45737.qm%40web113612.mail.gq1.yahoo.com%3E"
       TITLE="[OpenIMSCore-CSCF] setkey (IPSEC) configuation">memamin at yahoo.com
       </A><BR>
    <I>Sat Apr  9 01:29:21 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002483.html">[OpenIMSCore-CSCF] setkey (IPSEC) configuation
</A></li>
        <LI>Next message: <A HREF="002487.html">[OpenIMSCore-CSCF] setkey (IPSEC) configuation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2486">[ date ]</a>
              <a href="thread.html#2486">[ thread ]</a>
              <a href="subject.html#2486">[ subject ]</a>
              <a href="author.html#2486">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Franz,
Thanks for the reply; it helped me to figure out how/when the IPSEC SA are generated. I still need to figure out how/where the CK(confidentiality key) and IK (integrity key) are generated. My understanding is that CK and IK are generated by SCSCF and put into the www-authenticate header in response to the initial register from the UE and passed to PCSCF who then takes them out of the header and use them to create the IPSEC SA. It would be such a great help of you could please point to where SCSCF generates the IPSEC CK  and IK.
best regards,
~Mohsen

--- On Tue, 4/5/11, Franz Edler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">franz.edler at technikum-wien.at</A>&gt; wrote:

&gt;<i> From: Franz Edler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">franz.edler at technikum-wien.at</A>&gt;
</I>&gt;<i> Subject: RE: [OpenIMSCore-CSCF] setkey (IPSEC) configuation
</I>&gt;<i> To: &quot;'Mohsen Emami-Nouri'&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">memamin at yahoo.com</A>&gt;, <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">openimscore-cscf at lists.berlios.de</A>
</I>&gt;<i> Date: Tuesday, April 5, 2011, 8:37 PM
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> &gt; Thanks a lot for the reply. I am clear about the
</I>&gt;<i> scripts now and I realize
</I>&gt;<i> that
</I>&gt;<i> &gt; all the needed information are passed to them as
</I>&gt;<i> parameters among others
</I>&gt;<i> &gt; CK and IK. However I am still puzzled about where the
</I>&gt;<i> scripts are called
</I>&gt;<i> from;
</I>&gt;<i> &gt; if I understand it correctly , P-CSCF needs to call
</I>&gt;<i> e.g.
</I>&gt;<i> ipsec_E_Inc_req.sh
</I>&gt;<i> &gt; when P-CSCF receives a register request that includes
</I>&gt;<i> client-security
</I>&gt;<i> header
</I>&gt;<i> &gt; etc; but I am bot able to figure out where and how
</I>&gt;<i> these scripts are
</I>&gt;<i> called; I
</I>&gt;<i> &gt; would appricate if you could please shed some light on
</I>&gt;<i> it.
</I>&gt;<i> 
</I>&gt;<i> The call of the scripts is embedded into the code of
</I>&gt;<i> P-CSCF. Follow e.g. the
</I>&gt;<i> function call &quot; P_security_401&quot; in pcscf.cfg. The function
</I>&gt;<i> is implemented in
</I>&gt;<i> &quot;security.c&quot; module of pcscf.
</I>&gt;<i> There you will see how all parameters are prepared to
</I>&gt;<i> finally call the
</I>&gt;<i> script with &quot; execute_cmd(cmd)&quot;.
</I>&gt;<i> 
</I>&gt;<i> BR
</I>&gt;<i> Franz
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002483.html">[OpenIMSCore-CSCF] setkey (IPSEC) configuation
</A></li>
	<LI>Next message: <A HREF="002487.html">[OpenIMSCore-CSCF] setkey (IPSEC) configuation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2486">[ date ]</a>
              <a href="thread.html#2486">[ thread ]</a>
              <a href="subject.html#2486">[ subject ]</a>
              <a href="author.html#2486">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
