<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] How to interact AS and MRF over Mr interface?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20How%20to%20interact%20AS%20and%20MRF%20over%20Mr%20interface%3F&In-Reply-To=%3Cb712f9530707312329u64dfbf66v50775d51b2173f35%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000905.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] How to interact AS and MRF over Mr interface?</H1>
    <B>Tom Paris</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20How%20to%20interact%20AS%20and%20MRF%20over%20Mr%20interface%3F&In-Reply-To=%3Cb712f9530707312329u64dfbf66v50775d51b2173f35%40mail.gmail.com%3E"
       TITLE="[OpenIMSCore-CSCF] How to interact AS and MRF over Mr interface?">tom.paris001 at gmail.com
       </A><BR>
    <I>Wed Aug  1 08:29:55 CEST 2007</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000905.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r429 - Fixed STR_SHM/PKG_DUP()	macros to prevent seg faults when out of memory.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#904">[ date ]</a>
              <a href="thread.html#904">[ thread ]</a>
              <a href="subject.html#904">[ subject ]</a>
              <a href="author.html#904">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dragos,

Thanks for your resonse.

Please see my comments inline.

&gt;<i> Hi Tom,
</I>&gt;<i>
</I>&gt;<i> Hmmm... the indication is quite proprietary in my opinion. So I won't go
</I>&gt;<i> ahead and say that this is the clear indication that you would want your
</I>&gt;<i> call routed to an MRF, like it is the case when you call something like
</I>&gt;<i> sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">+49123123 at open-ims.test</A>;user=phone then it's clear that you want to
</I>&gt;<i> route it to PSTN).
</I>&gt;<i> You have 2 options:
</I>&gt;<i> 1. Configure and IFC that would match this R-URI and use the MRF as an
</I>&gt;<i> AS (over the ISC interface)
</I>&gt;<i> 2. Take a look at how PSTN routing is applied and make a similar hook
</I>&gt;<i> and MRF route in the S-CSCF cfg (this would be an Mr I guess...)
</I>

Thanks for your advise.
For me option1 seems a kind of walk-around.
In case like AS decides which MRF(i.e. sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">ivr at mdsaf1.example.com</A> or
sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">annc at mdsaf2.example.com</A>)
SIP request should be routed.
Anyway I will try to test.



&gt;<i> I agree that we need a route[MRF] (2nd option), but I just don't know
</I>&gt;<i> yet for what it should be triggered and what should it contain. Any
</I>&gt;<i> contributions would be appreciated.
</I>

OK.
I will try to configure scscf.cfg and if it worked well, I would
like to share the information.

BR,
Thomas





&gt;<i> -Dragos
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Tom Paris wrote:
</I>&gt;<i> &gt; Hi Dragos,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks for your quick reply.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt;What is the
</I>&gt;<i> &gt; &gt;identification in the message that should tell the S-CSCF that the
</I>&gt;<i> &gt; &gt;message is to be fwded on the Mr interface?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The indication is sip request-uri.
</I>&gt;<i> &gt; The request uri is sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">ivr at mdsaf.example.com</A>
</I>&gt;<i> &gt; &lt;mailto:sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">ivr at mdsaf.example.com</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In addition,I want to send subsequential INFO request to MRF after sip
</I>&gt;<i> &gt; session between alice and MRF has established.
</I>&gt;<i> &gt; The INFO request includes MSCML as payload.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am very appreciated if you have any idea how to configure the
</I>&gt;<i> scscf.cfg.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks and Best Regards,
</I>&gt;<i> &gt; Thomas
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2007/7/31, Tom Paris &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">tom.paris001 at gmail.com</A>
</I>&gt;<i> &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">tom.paris001 at gmail.com</A>&gt;&gt;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Hi Dragos,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Thanks for your quick reply.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     &gt;What is the
</I>&gt;<i> &gt;     &gt;identification in the message that should tell the S-CSCF that the
</I>&gt;<i> &gt;     &gt;message is to be fwded on the Mr interface?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     The indication is sip request-uri.
</I>&gt;<i> &gt;     The request uri is sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">ivr at mdsaf.example.com</A>
</I>&gt;<i> &gt;     &lt;mailto:sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">ivr at mdsaf.example.com</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     In addition,I want to send subsequential INFO request to MRF after
</I>&gt;<i> &gt;     sip session between alice and MRF has established.
</I>&gt;<i> &gt;     The INFO request includes MSCML as payload.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     I am very appreciated if you have any idea how to configure the
</I>&gt;<i> &gt;     scscf.cfg.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Thanks and Best Regards,
</I>&gt;<i> &gt;     Thomas
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     2007/7/30, Dragos Vingarzan &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">Dragos.Vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">Dragos.Vingarzan at fokus.fraunhofer.de</A>&gt;&gt;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         Hello Tom,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         By default there is no configuration for the Mr interface. I
</I>&gt;<i> &gt;         think that
</I>&gt;<i> &gt;         it's a S-CSCF configuration matter. There is some
</I>&gt;<i> &gt;         configuration for a
</I>&gt;<i> &gt;         PSTN gateway that could be extended or taken as an example.
</I>&gt;<i> &gt;         What is the
</I>&gt;<i> &gt;         identification in the message that should tell the S-CSCF that
</I>&gt;<i> the
</I>&gt;<i> &gt;         message is to be fwded on the Mr interface?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         -Dragos
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         Tom Paris wrote:
</I>&gt;<i> &gt;         &gt; Hi,
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; I have some questions about interaction between AS and MRF
</I>&gt;<i> &gt;         over Mr
</I>&gt;<i> &gt;         &gt; interface.
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; I tried to foward INVITE message from UE to MRF via AS(B2BUA
</I>&gt;<i> &gt;         mode) as
</I>&gt;<i> &gt;         &gt; follows.
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; 1.Set alice's iFC on HSS to invoke AS when request URI
</I>&gt;<i> &gt;         specifies MRF
</I>&gt;<i> &gt;         &gt; service.
</I>&gt;<i> &gt;         &gt; 2.Register alice.
</I>&gt;<i> &gt;         &gt; 3.Send INVITE from alice to MRF service uri.
</I>&gt;<i> &gt;         &gt; 4.S-CSCF executes iFC filtering.(INVITE request is forwarded
</I>&gt;<i> &gt;         to AS)
</I>&gt;<i> &gt;         &gt; 5.AS &lt;<A HREF="http://5.as/">http://5.as/</A>&gt; &lt;<A HREF="http://5.AS">http://5.AS</A> &lt;<A HREF="http://5.as/">http://5.as/</A>&gt;&gt; execute
</I>&gt;<i> &gt;         something..
</I>&gt;<i> &gt;         &gt; 6.AS &lt;<A HREF="http://6.as/">http://6.as/</A>&gt; &lt; <A HREF="http://6.AS">http://6.AS</A> &lt;<A HREF="http://6.as/">http://6.as/</A>&gt;&gt; receives
</I>&gt;<i> &gt;         INVITE and create new message to MRF.
</I>&gt;<i> &gt;         &gt; 7.403 Forbidden - &quot;Dialog not found on S-CSCF or Terminating
</I>&gt;<i> &gt;         user not
</I>&gt;<i> &gt;         &gt; suitable for unregistered services&quot;
</I>&gt;<i> &gt;         &gt;   returned from S-CSCF.
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; Note that MRF is not registered to S-CSCF.
</I>&gt;<i> &gt;         &gt; Are there any way to avoid those problems?
</I>&gt;<i> &gt;         &gt; (iFC configurations or PSI configurations?)
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; Best Regards,
</I>&gt;<i> &gt;         &gt; Thomas
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;         &gt; _______________________________________________
</I>&gt;<i> &gt;         &gt; OpenIMSCore-CSCF mailing list
</I>&gt;<i> &gt;         &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">OpenIMSCore-CSCF at lists.berlios.de</A>
</I>&gt;<i> &gt;         &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">OpenIMSCore-CSCF at lists.berlios.de</A>&gt;
</I>&gt;<i> &gt;         &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">https://lists.berlios.de/mailman/listinfo/openimscore-cscf</A>
</I>&gt;<i> &gt;         &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">https://lists.berlios.de/mailman/listinfo/openimscore-cscf</A>&gt;
</I>&gt;<i> &gt;         &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         --
</I>&gt;<i> &gt;         -----------------------------------------
</I>&gt;<i> &gt;         Dipl. Eng. Dragos Vingarzan
</I>&gt;<i> &gt;         Fraunhofer FOKUS/NGNI
</I>&gt;<i> &gt;         Kaiserin-Augusta-Allee 31
</I>&gt;<i> &gt;         10589 Berlin,Germany
</I>&gt;<i> &gt;         Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i> &gt;         Mobile +49 (0)163 - 159 - 5221
</I>&gt;<i> &gt;         Web www.fokus.fraunhofer.de &lt;<A HREF="http://www.fokus.fraunhofer.de/">http://www.fokus.fraunhofer.de/</A>&gt;
</I>&gt;<i> &gt;         www.openimscore.org &lt;<A HREF="http://www.openimscore.org/">http://www.openimscore.org/</A>&gt;
</I>&gt;<i> &gt;         We could change the world if God would give us the source
</I>&gt;<i> code...
</I>&gt;<i> &gt;
</I>&gt;<i> -----------------------------------------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> -----------------------------------------
</I>&gt;<i> Dipl. Eng. Dragos Vingarzan
</I>&gt;<i> Fraunhofer FOKUS/NGNI
</I>&gt;<i> Kaiserin-Augusta-Allee 31
</I>&gt;<i> 10589 Berlin,Germany
</I>&gt;<i> Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i> Mobile +49 (0)163 - 159 - 5221
</I>&gt;<i> Web www.fokus.fraunhofer.de www.openimscore.org
</I>&gt;<i> We could change the world if God would give us the source code...
</I>&gt;<i> -----------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20070801/12bf0ca5/attachment.html">https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20070801/12bf0ca5/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000905.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r429 - Fixed STR_SHM/PKG_DUP()	macros to prevent seg faults when out of memory.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#904">[ date ]</a>
              <a href="thread.html#904">[ thread ]</a>
              <a href="subject.html#904">[ subject ]</a>
              <a href="author.html#904">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
