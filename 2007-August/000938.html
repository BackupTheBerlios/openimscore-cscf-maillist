<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] SCSCF crash on PPR
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20SCSCF%20crash%20on%20PPR&In-Reply-To=%3C14513D9CD9650446BF2F0A76846EE312010EA307%40inosplex01.ptin.corpPT.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000937.html">
   <LINK REL="Next"  HREF="000939.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] SCSCF crash on PPR</H1>
    <B>Jo&#227;o Vitor Torres</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20SCSCF%20crash%20on%20PPR&In-Reply-To=%3C14513D9CD9650446BF2F0A76846EE312010EA307%40inosplex01.ptin.corpPT.com%3E"
       TITLE="[OpenIMSCore-CSCF] SCSCF crash on PPR">joao-v-torres at ptinovacao.pt
       </A><BR>
    <I>Thu Aug 30 20:58:08 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000937.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r439 - Inconsistent versions	between ser_ims/trunk , and branches; 
</A></li>
        <LI>Next message: <A HREF="000939.html">[OpenIMSCore-CSCF] SCSCF crash on PPR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#938">[ date ]</a>
              <a href="thread.html#938">[ thread ]</a>
              <a href="subject.html#938">[ subject ]</a>
              <a href="author.html#938">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 

I have detected a crash in SCSCF on PPR request.

The log is below.

Revision 433 is used.

 

8(10816) INFO:S-CSCF:CxRequestHandler(): We have received a request

 8(10816) INFO:S-CSCF:CxRequestHandler(): - Received an IMS_PPR

 8(10816) INFO:S-CSCF:Cx_PPA(): Received a User_Data PPR!

 8(10816) INF:S-CSCF:IMSSubscription:

 8(10816) INF:S-CSCF:   Private Identity: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">joaovitor at ptinovacao.pt</A>&gt;

 8(10816) INF:S-CSCF:   Service Profile:

 8(10816) INF:S-CSCF:           Public Identity: Barring [0] &lt;tel:00551138882508&gt;

 8(10816) INF:S-CSCF:           Filter Criteria: Priority [1]ProfilePartInd [-1]

 8(10816) INF:S-CSCF:                   Trigger Point: CNF [X] (_|_)&amp;(_|_)

 8(10816) INF:S-CSCF:                           SPT: Grp[0] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    Method == &lt;INVITE&gt;

 8(10816) INF:S-CSCF:                           SPT: Grp[0] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    Method == &lt;CANCEL&gt;

 8(10816) INF:S-CSCF:                           SPT: Grp[1] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    SessionCase [0]

 8(10816) INF:S-CSCF:                           SPT: Grp[1] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    SessionCase [3]

 8(10816) INF:S-CSCF:                   AS: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">vccmo at 10.51.160.230</A>:5060&gt; Handling [0] SrvInfo: &lt;VCC&gt;

 8(10816) INF:S-CSCF:           Filter Criteria: Priority [2]ProfilePartInd [-1]

 8(10816) INF:S-CSCF:                   Trigger Point: CNF [X] (_|_)&amp;(_|_)

 8(10816) INF:S-CSCF:                           SPT: Grp[0] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    Method == &lt;INVITE&gt;

 8(10816) INF:S-CSCF:                           SPT: Grp[0] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    Method == &lt;CANCEL&gt;

 8(10816) INF:S-CSCF:                           SPT: Grp[1] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    SessionCase [1]

 8(10816) INF:S-CSCF:                           SPT: Grp[1] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    SessionCase [2]

 8(10816) INF:S-CSCF:                   AS: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">vccmt at 10.51.160.230</A>:5060&gt; Handling [0] SrvInfo: &lt;VCC&gt;

 8(10816) INF:S-CSCF:   Service Profile:

 8(10816) INF:S-CSCF:           Public Identity: Barring [0] &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">joaovitor at ptinovacao.pt</A>&gt;

 8(10816) INF:S-CSCF:           Filter Criteria: Priority [1]ProfilePartInd [-1]

 8(10816) INF:S-CSCF:                   Trigger Point: CNF [X] (_|_)&amp;(_|_)

 8(10816) INF:S-CSCF:                           SPT: Grp[0] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    Method == &lt;INVITE&gt;

 8(10816) INF:S-CSCF:                           SPT: Grp[0] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    Method == &lt;CANCEL&gt;

 8(10816) INF:S-CSCF:                           SPT: Grp[1] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    SessionCase [0]

 8(10816) INF:S-CSCF:                           SPT: Grp[1] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    SessionCase [3]

 8(10816) INF:S-CSCF:                   AS: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">vccmo at 10.51.160.235</A>:5060&gt; Handling [0] SrvInfo: &lt;VCC_MO&gt;

 8(10816) INF:S-CSCF:           Filter Criteria: Priority [2]ProfilePartInd [-1]

 8(10816) INF:S-CSCF:                   Trigger Point: CNF [X] (_|_)&amp;(_|_)

 8(10816) INF:S-CSCF:                           SPT: Grp[0] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    Method == &lt;INVITE&gt;

 8(10816) INF:S-CSCF:                           SPT: Grp[0] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    Method == &lt;CANCEL&gt;

 8(10816) INF:S-CSCF:                           SPT: Grp[1] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    SessionCase [1]

 8(10816) INF:S-CSCF:                           SPT: Grp[1] NOT[ ] RegType[0]

 8(10816) INF:S-CSCF:                                    SessionCase [2]

 8(10816) INF:S-CSCF:                   AS: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">vccmt at 10.51.160.235</A>:5060&gt; Handling [0] SrvInfo: &lt;VCC_MT&gt;

12(10820) --- Peer List: ---

12(10820)  S[I_Open] hss.ptinovacao.pt:3868 D[ ]

12(10820)        [16777216,10415]

12(10820)        [16777217,10415]

12(10820)        [16777221,10415]

12(10820) ------------------

17(10825) ERROR: receive_fd: EOF on 13

 0(10807) child process 10816 exited by a signal 11

 0(10807) core was generated

 0(10807) INFO: terminating due to SIGCHLD

 0(10807) Process Table:

 0(10807)  0. (10807) &gt; attendant

 0(10807)  1. (10809) &gt; receiver child=0 sock=10.51.160.234:6060

 0(10807)  2. (10810) &gt; receiver child=1 sock=10.51.160.234:6060

 0(10807)  3. (10811) &gt; receiver child=2 sock=10.51.160.234:6060

 0(10807)  4. (10812) &gt; receiver child=3 sock=10.51.160.234:6060

 0(10807)  5. (10813) &gt; slow timer

 0(10807)  6. (10814) &gt; timer

 0(10807)  7. (10815) &gt; cdp_acceptor

 0(10807)  8. (10816) &gt; cdp worker child=0

 0(10807)  9. (10817) &gt; cdp worker child=1

 0(10807) 10. (10818) &gt; cdp worker child=2

 0(10807) 11. (10819) &gt; cdp worker child=3

 0(10807) 12. (10820) &gt; cdp_timer

 0(10807) 13. (10821) &gt; tcp receiver child=0

 0(10807) 14. (10822) &gt; tcp receiver child=1

 0(10807) 15. (10823) &gt; tcp receiver child=2

 0(10807) 16. (10824) &gt; tcp receiver child=3

 0(10807) 17. (10825) &gt; tcp main process

 0(10807) 18. (10828) &gt; receiver I

 1(10809) INFO: signal 15 received

 7(10815) INFO: signINFO: siINFO: signal 15 r 1(10809) qm_sums (0x812ff60): PKG[receiver child=0 sock=10.51.160.234:6060]

 1(10809) summarizing all alloc'ed. fragments:

15(10823)  1(10809) x812ff60): PKG[tcp receiver 6(10814) summarizing all alloc'ed. fragments:

18(10828) qm_sums (0x812ff60): PKG[receiver I]

18(10828) summarizing all alloc'ed. fragments:

10821)  3(10811)  7(10815)  count=     3 size=        12 bytes from proxy.c: host 3(10811) summarizing all al count=     2 size=   16 bytes from route.c: fix_actions(510)

 7(10815)  count=     1 size=        32 bytes from textops.c: sel_hf_value_name(1711)

 7(10815)  count=     6 size=       192 bytes from sr_module.c: fix_param(660)

 7(10815)  count=     1 size=        56 bytes from mod.c: build_record_service_route(431)

 7(10815)  count=     1 size=        56 bytes from mod.c: build_record_service_route(425)

 7(10815)  count=     1 size=        28 bytes from mod count=     6 size=       192 bytes  7(10815)  count=     1 size=        28 byt count=     1 size=        56 bytes from mod.c: 7(10815)  count=     1 size=        60 bytes from mod.c: build_record_service_route(407)

 7(10815)  count=     3 size=        48 bytes from script_cb.c: add_callback(60)

 7(10815)  count=     2 size=        24 bytes from name_alias.h: add_ali count=  coun 7(10815)  count=     3 size=       248 bytes from proxy12(10820)  count=     3 s count=     3 size=        28 bytes from proxy.c:12(10820)  count=     3 s count=     3 size=        12 bytes from proxy.c12(10820)  count=     3 s count=     3 size=        44 bytes from proxy.c12(10820)  count=     2 size=     count=     2 size=        32 bytes from socket_info.c12(10820)  count=     3 size=       128 bytes from route.c: route_new_list(202)

12(10820)  count=     1 size=       428 bytes from cfg.y: yyparse(1476)

12(10820)  count=    60 size=      1644 bytes from sr_module.c: fix_param(626)

 count=     2 size=        32 bytes fralias.h: add_alias(99)

[01;33mt=    60 size=      1644 byte count=     3 size=       128 bytes from route.c: route_new_list(202)

ocket_info.c: fix_socket_list(607)

ount=           128 byrom route.c: route_new_list(202)

nt= count=     3 size=       128 bytes from route.c: route_new_list(2011(108   35 size=      1120 bytes from route_struct.c: mk_exp(58)

[0 c 5(10813)       160 bytes from sr_module.c: register_module(146)

33m(1476)

13(10821) count=     8 size=       272 bytes from route.c: fix_expr(312)

 1(10809)  count=     2 size=        32 bytes from name_alias.h: add_alias(99)

     2528 bytes from route_struct.c: mk_elem(74)

 count=     1 size=        20 count=    10 size=       160 byt11(1 7(108 count=     2 siz count=     5 size=       164 bytes from modparam.c: set_mod_pa11(10819) 17(10825)  count=    10 size=       160 bytes from sr_module.c: register_module(146)

17(10825)  count=   413 size=     52864 bytes from cfg.lex: addstr(743)

17(10825)  count=     1 size=        20 bytes from cfg.y: yyparse(474)

17(10825)  count=     1 size=        64 bytes from name_alias.h: add_alias(101)

17(10825)  count=  count=     1 size=        16 bytes from name_alias.h: add_alia10(1087(1082 count=     count=     1 size=        20 bytes from cfg.y: yyparse(1362)

7(10825)  count=     2 size=        32 bytes from socket_info.c: count=    count=     1 size=        12 bytes from nonsip_hooks.c: init_nonsip_hooks(50)

 7(10815)  count=     2 size= count=     1 size=        16 bytes from cfg.y: 7(10815)  count=     2  count=     1 size=        24 bytes from cfg.y: yyparse(926)

16 7(10815) ount=     1 size=        12 bytes from nonsip_hooks.c: init_nonsip_hooks(50)

 2(10810)  count=     2 size=        12 bytes from route.c: init_rlist( 2(1016(10824) oun count=     2 size=        16 bytes from socket_info.c: fix_socket_list(565)

 count=  1017 size=     80436 bytes in total

 9(10817) -----------------------------

     2 size=        16 bytes from socket_info.c: fix_socket_list(565)

 2(10810) e.c: route_add(129)

 4(10812) 16(10824 count=    count=     3 size=        24 bytes from select.c: register_se 4(10812)  count=     3 size=        24 bytes from select.c: register_select_table(348)

 4(10812)  count=  1018 size=     80464 bytes in total

 4(10812) -----------------------------

 count=    30 size=       728 bytes from route.c: route_add(129)

 2(10810)  count=     5 size=       320 bytes from str_hash.h: str_hash_alloc(69)

 2(10810)  count=     3 size=        24 bytes from select.c: register_select_table(348)

 2(10810)  count=  1018 size=     80464 bytes in total

 2(10810) -----------------------------

 0(10807) INFO:cdp:cdp_exit(): CDiameterPeer stoping ...

 0(10807) INFO:destroy_diameter_peer(): Terminating all childs...

 0(10807) INFO:destroy_diameter_peer(): Waiting for child [10828] to terminate...

 0(10807) INFO:destroy_diameter_peer(): Waiting for child [10820] to terminate...

 0(10807) INFO:destroy_diameter_peer(): Waiting for child [10819] to terminate...

 0(10807) INFO:destroy_diameter_peer(): Waiting for child [10818] to terminate...

 0(10807) INFO:destroy_diameter_peer(): Waiting for child [10817] to terminate...

 0(10807) INFO:destroy_diameter_peer(): Waiting for child [10816] to terminate...

 0(10807) INFO:destroy_diameter_peer(): Waiting for child [10815] to terminate...

 0(10807) INFO:destroy_diameter_peer(): All processes terminated. Cleaning up.

 0(10807) BUG: shutdown timeout triggered, dying...

 

 

Jo&#227;o Vitor 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20070830/f5c13c0d/attachment.html">https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20070830/f5c13c0d/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000937.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r439 - Inconsistent versions	between ser_ims/trunk , and branches; 
</A></li>
	<LI>Next message: <A HREF="000939.html">[OpenIMSCore-CSCF] SCSCF crash on PPR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#938">[ date ]</a>
              <a href="thread.html#938">[ thread ]</a>
              <a href="subject.html#938">[ subject ]</a>
              <a href="author.html#938">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
