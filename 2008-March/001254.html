<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] Patch: Expire Header Evaluation
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20Patch%3A%20Expire%20Header%20Evaluation&In-Reply-To=%3C47E95B89.4060904%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001253.html">
   <LINK REL="Next"  HREF="001255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] Patch: Expire Header Evaluation</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20Patch%3A%20Expire%20Header%20Evaluation&In-Reply-To=%3C47E95B89.4060904%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-CSCF] Patch: Expire Header Evaluation">Dragos.Vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Tue Mar 25 21:07:37 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001253.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r540 - Added Sebastian Felis'	patch for updating dialogs expirations according to the	values of the relevant headers.
</A></li>
        <LI>Next message: <A HREF="001255.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r541 - Applied patch from Vladimir	Romanov for fixing the check for registration_type any.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1254">[ date ]</a>
              <a href="thread.html#1254">[ thread ]</a>
              <a href="subject.html#1254">[ subject ]</a>
              <a href="author.html#1254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Sebastian,

seems that I have completely forgot about this patch and confused it 
with another one for the registration expiration. Sorry for this and 
thanx for reminding me about it.

Of course, also thanx for the patch!

Cheers,
-Dragos

Sebastian Felis wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> We had the problem, that the P-CSCF and S-CSCF are updating the dialog's
</I>&gt;<i> state mostly with the default expiration time. Here is a patch for the
</I>&gt;<i> almost current SVN trunk (version 513) for the P-SCSF and S-CSCF to
</I>&gt;<i> evaluate the Expires header and Subscription-State expire header
</I>&gt;<i> parameter for updating the dialog expiration explicitly.
</I>&gt;<i>
</I>&gt;<i> - The patch evaluates the Expires header if available, otherwise it
</I>&gt;<i> updates the dialog with the default expiration time. Both dlg_state.c
</I>&gt;<i> files of P-CSCF and S-CSCF are updated.
</I>&gt;<i> - It also fixes the cscf_get_subscription_state() function in
</I>&gt;<i> modules/scscf/sip.c and adds the pending subscription state to extract
</I>&gt;<i> the expiration time from the parameter.
</I>&gt;<i> - (minor fix) Further is adjust the debug level in the function
</I>&gt;<i> S_drop_dialog() of modules/[ps]cscf/dlg_state.c to the output text.
</I>&gt;<i>
</I>&gt;<i> Is it possible to integrate this patch to the trunk?
</I>&gt;<i>
</I>&gt;<i> Best regards
</I>&gt;<i>
</I>&gt;<i> Sebastian
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-CSCF mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">OpenIMSCore-CSCF at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">https://lists.berlios.de/mailman/listinfo/openimscore-cscf</A>
</I>&gt;<i>   
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
Fraunhofer FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)176 - 48 32 16 00
Web www.fokus.fraunhofer.de www.openimscore.org
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001253.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r540 - Added Sebastian Felis'	patch for updating dialogs expirations according to the	values of the relevant headers.
</A></li>
	<LI>Next message: <A HREF="001255.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r541 - Applied patch from Vladimir	Romanov for fixing the check for registration_type any.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1254">[ date ]</a>
              <a href="thread.html#1254">[ thread ]</a>
              <a href="subject.html#1254">[ subject ]</a>
              <a href="author.html#1254">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
