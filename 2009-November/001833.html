<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] open-ims.test could be resolved
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20open-ims.test%20could%20be%20resolved&In-Reply-To=%3C002c01ca5c0b%2482a53060%2487ef9120%24%40at%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001832.html">
   <LINK REL="Next"  HREF="001835.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] open-ims.test could be resolved</H1>
    <B>wilbur at gmx.at</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20open-ims.test%20could%20be%20resolved&In-Reply-To=%3C002c01ca5c0b%2482a53060%2487ef9120%24%40at%3E"
       TITLE="[OpenIMSCore-CSCF] open-ims.test could be resolved">wilbur at gmx.at
       </A><BR>
    <I>Mon Nov  2 23:26:23 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001832.html">[OpenIMSCore-CSCF] open-ims.test could be resolved
</A></li>
        <LI>Next message: <A HREF="001835.html">[OpenIMSCore-CSCF] open-ims.test could be resolved
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1833">[ date ]</a>
              <a href="thread.html#1833">[ thread ]</a>
              <a href="subject.html#1833">[ subject ]</a>
              <a href="author.html#1833">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> Hello Rivaldo,

 

I think your problem arise through wrong DNS server configuration on your
IMS server. You configured your server to query two DNS servers:

resolv.conf in /etc:
# Generated by NetworkManager
nameserver 192.168.1.1 (my gateway for wlan0)
nameserver 127.0.0.1

 

I assume that 192.168.1.1 is an external one because your named.conf binds
only to


liste-on { 127.0.0.1; 0.0.0.0 };

(There is also a typo &#150; it should be listen-on instead of liste-on)

 

Try to delete nameserver 192.168.1.1 (my gateway for wlan0) in reslov.conf
in order to just ask the local DNS server. Your DNS client gets an negative
response from 192.168.1.1 for icscf.open-ims.test so the second server
(172.0.0.1) is not queryed anymore. Hope this resolves your issue.

 

You can also have a look at messages with


tail &#150;f /var/log/messages


during a restart of BIND to see if the DNS server starts successful.

 

Greetings,

Chris.

 

 

From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">openimscore-cscf-bounces at lists.berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">openimscore-cscf-bounces at lists.berlios.de</A>] On Behalf Of rivaldo
guedes corr&#234;a j&#250;nior
Sent: Samstag, 31. Oktober 2009 13:52
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">openimscore-cscf at lists.berlios.de</A>
Subject: [OpenIMSCore-CSCF] open-ims.test could be resolved

 

Hi all

I'm user Open Source IMS Core on Ubuntu Jaunty 9.04 kernel 2.6.28.16
I have configured the DNS (Bind) Server according to installation guide but
after start the Core Components the domain &quot;open-ims.test&quot; can be resolved
and the S-csfc and I-cscsf can't connect to HSS. 
I checked the config files with the files that are running in &quot;IMS in a
Bottle&quot; in other machine, but I didn't find the problem.

Messages:
HSS:
2009-10-31 10:34:14,762 ERROR
de.fhg.fokus.diameter.DiameterPeer.peer.StateMachine - I_Snd_Conn_Req
StateMachine: Peer icscf.open-ims.test cannot be resolved.
2009-10-31 10:34:35,778 ERROR
de.fhg.fokus.diameter.DiameterPeer.peer.StateMachine - I_Snd_Conn_Req
StateMachine: Peer scscf.open-ims.test cannot be resolved.
I-CSCF and S-CSCF:
14(4382) WARNING:peer_connect(): Error opening connection to
hss.open-ims.test:3868 &gt;No address associated with hostname
14(4382) --- Peer List: ---
14(4382)  S[Closed] hss.open-ims.test:3868 D[ ]


My DNS config are:
named.conf in chroot/named/etc:
options {
   directory       &quot;/conf&quot;;
   pid-file        &quot;/var/run/named.pid&quot;;
   statistics-file &quot;/var/run/named.stats&quot;;
   dump-file       &quot;/var/run/named.db&quot;;

   # hide our &quot;real&quot; version number
   version         &quot;[secured]&quot;;
};

listen-on-v6 { ;;; };
liste-on { 127.0.0.1; 0.0.0.0 };

# The root nameservers
zone &quot;.&quot; IN {
   type   hint;
   file   &quot;chroot/named/conf/db.rootcache&quot;;
};

# localhost - forward zone
zone   &quot;localhost&quot; IN {
   type    master;
   file   &quot;chroot/named/conf/db.localhost&quot;;
   notify  no;
};

# localhost - inverse zone
zone    &quot;0.0.127.in-addr.arpa&quot; IN {
   type   master;
   file   &quot;chroot/named/conf/db.127.0.0&quot;;
   notify no;
};

# IMS Zone
zone &quot;open-ims.test&quot; IN {
    type master;
    file &quot;chroot/named/etc/open-ims.dnszone&quot;;
    allow-update {none; };
    notify no;
};

open-ims.dnszone in /chroot/named/etc:
$ORIGIN open-ims.test.
$TTL 1W
@                       1D IN SOA       localhost. root.localhost. (
                                        2006101001      ; serial
                                        3H              ; refresh
                                        15M             ; retry
                                        1W              ; expiry
                                        1D )            ; minimum

                        1D IN NS        ns
ns                      1D IN A         127.0.0.1

pcscf                   1D IN A         127.0.0.1
_sip.pcscf              1D SRV 0 0 4060 pcscf
_sip._udp.pcscf         1D SRV 0 0 4060 pcscf
_sip._tcp.pcscf         1D SRV 0 0 4060 pcscf


icscf                   1D IN A         127.0.0.1
_sip                    1D SRV 0 0 5060 icscf
_sip._udp               1D SRV 0 0 5060 icscf
_sip._tcp               1D SRV 0 0 5060 icscf

open-ims.test.          1D IN A         127.0.0.1
open-ims.test.          1D IN NAPTR 10 50 &quot;s&quot; &quot;SIP+D2U&quot;    &quot;&quot;
_sip._udp.open-ims.test
open-ims.test.          1D IN NAPTR 20 50 &quot;s&quot; &quot;SIP+D2T&quot;    &quot;&quot;
_sip._tcp.open-ims.test


scscf                   1D IN A         127.0.0.1
_sip.scscf              1D SRV 0 0 6060 scscf
_sip._udp.scscf         1D SRV 0 0 6060 scscf
_sip._tcp.scscf         1D SRV 0 0 6060 scscf


trcf                    1D IN A         127.0.0.1
_sip.trcf               1D SRV 0 0 3060 trcf
_sip._udp.trcf          1D SRV 0 0 3060 trcf
_sip._tcp.trcf          1D SRV 0 0 3060 trcf


bgcf                    1D IN A         127.0.0.1
_sip.bgcf               1D SRV 0 0 7060 bgcf
_sip._udp.bgcf          1D SRV 0 0 7060 bgcf
_sip._tcp.bgcf          1D SRV 0 0 7060 bgcf


mgcf                    1D IN A         127.0.0.1
_sip.mgcf               1D SRV 0 0 8060 mgcf
_sip._udp.mgcf          1D SRV 0 0 8060 mgcf
_sip._tcp.mgcf          1D SRV 0 0 8060 mgcf


hss                     1D IN A         127.0.0.1

ue                      1D IN A         127.0.0.1

presence                1D IN A         127.0.0.1

pcrf                    1D IN A            127.0.0.1
clf                    1D IN A            127.0.0.1

resolv.conf in /etc:
# Generated by NetworkManager
nameserver 192.168.1.1 (my gateway for wlan0)
nameserver 127.0.0.1

hosts in /etc:
127.0.0.1    localhost
127.0.1.1    open-ims.test    open-ims
192.168.1.34    desktop.open-ims.test desktop
# The following lines are desirable for IPv6 capable hosts
::<i>1     localhost ip6-localhost ip6-loopback
</I>fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhost

Someone could help me?

Thanks
Rivaldo






-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20091102/e056e404/attachment.html">https://lists.berlios.de/pipermail/openimscore-cscf/attachments/20091102/e056e404/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001832.html">[OpenIMSCore-CSCF] open-ims.test could be resolved
</A></li>
	<LI>Next message: <A HREF="001835.html">[OpenIMSCore-CSCF] open-ims.test could be resolved
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1833">[ date ]</a>
              <a href="thread.html#1833">[ thread ]</a>
              <a href="subject.html#1833">[ subject ]</a>
              <a href="author.html#1833">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
