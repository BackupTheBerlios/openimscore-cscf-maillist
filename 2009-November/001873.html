<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-CSCF] open-ims.test could be resolved
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-cscf/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20open-ims.test%20could%20be%20resolved&In-Reply-To=%3C4B0AA7AC.90700%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001836.html">
   <LINK REL="Next"  HREF="001834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-CSCF] open-ims.test could be resolved</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-cscf%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-CSCF%5D%20open-ims.test%20could%20be%20resolved&In-Reply-To=%3C4B0AA7AC.90700%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-CSCF] open-ims.test could be resolved">Dragos.Vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Mon Nov 23 16:18:04 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001836.html">[OpenIMSCore-CSCF] open-ims.test could be resolved
</A></li>
        <LI>Next message: <A HREF="001834.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r753 - Fixed non-quit of cdp on	exit in Wharf.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1873">[ date ]</a>
              <a href="thread.html#1873">[ thread ]</a>
              <a href="subject.html#1873">[ subject ]</a>
              <a href="author.html#1873">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I agree with Chris here as this is what your dig output also seems to 
indicated - that you asked the wrong DNS server. So the idea would be 
that you should cascade DNS servers, such that first you should ask the 
local machine, which resolves the IMS stuff, but then recurses for 
whatever else to the internet DNSes. So the order in your resolv.conf 
should be reversed at least.

Cheers,
-Dragos

<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">wilbur at gmx.at</A> wrote:
&gt;<i>
</I>&gt;<i> Hello Rivaldo,
</I>&gt;<i>
</I>&gt;<i> I think your problem arise through wrong DNS server configuration on 
</I>&gt;<i> your IMS server. You configured your server to query two DNS servers:
</I>&gt;<i>
</I>&gt;<i> *_resolv.conf in /etc:_*
</I>&gt;<i> # Generated by NetworkManager
</I>&gt;<i> nameserver 192.168.1.1 (my gateway for wlan0)
</I>&gt;<i> nameserver 127.0.0.1
</I>&gt;<i>
</I>&gt;<i> I assume that 192.168.1.1 is an external one because your named.conf 
</I>&gt;<i> binds only to&#8230;
</I>&gt;<i>
</I>&gt;<i> liste-on { 127.0.0.1; 0.0.0.0 };
</I>&gt;<i>
</I>&gt;<i> (There is also a typo &#8211; it should be listen-on instead of liste-on)
</I>&gt;<i>
</I>&gt;<i> Try to delete nameserver 192.168.1.1 (my gateway for wlan0) in 
</I>&gt;<i> reslov.conf in order to just ask the local DNS server. Your DNS client 
</I>&gt;<i> gets an negative response from 192.168.1.1 for icscf.open-ims.test so 
</I>&gt;<i> the second server (172.0.0.1) is not queryed anymore. Hope this 
</I>&gt;<i> resolves your issue.
</I>&gt;<i>
</I>&gt;<i> You can also have a look at messages with&#8230;
</I>&gt;<i>
</I>&gt;<i> tail &#8211;f /var/log/messages
</I>&gt;<i>
</I>&gt;<i> &#8230;during a restart of BIND to see if the DNS server starts successful.
</I>&gt;<i>
</I>&gt;<i> Greetings,
</I>&gt;<i>
</I>&gt;<i> Chris.
</I>&gt;<i>
</I>&gt;<i> *From:* <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">openimscore-cscf-bounces at lists.berlios.de</A> 
</I>&gt;<i> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">openimscore-cscf-bounces at lists.berlios.de</A>] *On Behalf Of 
</I>&gt;<i> *rivaldo guedes corr&#234;a j&#250;nior
</I>&gt;<i> *Sent:* Samstag, 31. Oktober 2009 13:52
</I>&gt;<i> *To:* <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">openimscore-cscf at lists.berlios.de</A>
</I>&gt;<i> *Subject:* [OpenIMSCore-CSCF] open-ims.test could be resolved
</I>&gt;<i>
</I>&gt;<i> Hi all
</I>&gt;<i>
</I>&gt;<i> I'm user Open Source IMS Core on Ubuntu Jaunty 9.04 kernel 2.6.28.16
</I>&gt;<i> I have configured the DNS (Bind) Server according to installation 
</I>&gt;<i> guide but after start the Core Components the domain &quot;open-ims.test&quot; 
</I>&gt;<i> can be resolved and the S-csfc and I-cscsf can't connect to HSS.
</I>&gt;<i> I checked the config files with the files that are running in &quot;IMS in 
</I>&gt;<i> a Bottle&quot; in other machine, but I didn't find the problem.
</I>&gt;<i>
</I>&gt;<i> *_Messages:_*
</I>&gt;<i> HSS:
</I>&gt;<i> 2009-10-31 10:34:14,762 ERROR 
</I>&gt;<i> de.fhg.fokus.diameter.DiameterPeer.peer.StateMachine - I_Snd_Conn_Req 
</I>&gt;<i> StateMachine: Peer icscf.open-ims.test cannot be resolved.
</I>&gt;<i> 2009-10-31 10:34:35,778 ERROR 
</I>&gt;<i> de.fhg.fokus.diameter.DiameterPeer.peer.StateMachine - I_Snd_Conn_Req 
</I>&gt;<i> StateMachine: Peer scscf.open-ims.test cannot be resolved.
</I>&gt;<i> I-CSCF and S-CSCF:
</I>&gt;<i> 14(4382) WARNING:peer_connect(): Error opening connection to 
</I>&gt;<i> hss.open-ims.test:3868 &gt;No address associated with hostname
</I>&gt;<i> 14(4382) --- Peer List: ---
</I>&gt;<i> 14(4382) S[Closed] hss.open-ims.test:3868 D[ ]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *My DNS config are:*
</I>&gt;<i> *_named.conf in chroot/named/etc:_*
</I>&gt;<i> options {
</I>&gt;<i> directory &quot;/conf&quot;;
</I>&gt;<i> pid-file &quot;/var/run/named.pid&quot;;
</I>&gt;<i> statistics-file &quot;/var/run/named.stats&quot;;
</I>&gt;<i> dump-file &quot;/var/run/named.db&quot;;
</I>&gt;<i>
</I>&gt;<i> # hide our &quot;real&quot; version number
</I>&gt;<i> version &quot;[secured]&quot;;
</I>&gt;<i> };
</I>&gt;<i>
</I>&gt;<i> listen-on-v6 { ;;; };
</I>&gt;<i> liste-on { 127.0.0.1; 0.0.0.0 };
</I>&gt;<i>
</I>&gt;<i> # The root nameservers
</I>&gt;<i> zone &quot;.&quot; IN {
</I>&gt;<i> type hint;
</I>&gt;<i> file &quot;chroot/named/conf/db.rootcache&quot;;
</I>&gt;<i> };
</I>&gt;<i>
</I>&gt;<i> # localhost - forward zone
</I>&gt;<i> zone &quot;localhost&quot; IN {
</I>&gt;<i> type master;
</I>&gt;<i> file &quot;chroot/named/conf/db.localhost&quot;;
</I>&gt;<i> notify no;
</I>&gt;<i> };
</I>&gt;<i>
</I>&gt;<i> # localhost - inverse zone
</I>&gt;<i> zone &quot;0.0.127.in-addr.arpa&quot; IN {
</I>&gt;<i> type master;
</I>&gt;<i> file &quot;chroot/named/conf/db.127.0.0&quot;;
</I>&gt;<i> notify no;
</I>&gt;<i> };
</I>&gt;<i>
</I>&gt;<i> # IMS Zone
</I>&gt;<i> zone &quot;open-ims.test&quot; IN {
</I>&gt;<i> type master;
</I>&gt;<i> file &quot;chroot/named/etc/open-ims.dnszone&quot;;
</I>&gt;<i> allow-update {none; };
</I>&gt;<i> notify no;
</I>&gt;<i> };
</I>&gt;<i>
</I>&gt;<i> *_open-ims.dnszone in /chroot/named/etc:_*
</I>&gt;<i> $ORIGIN open-ims.test.
</I>&gt;<i> $TTL 1W
</I>&gt;<i> @ 1D IN SOA localhost. root.localhost. (
</I>&gt;<i> 2006101001 ; serial
</I>&gt;<i> 3H ; refresh
</I>&gt;<i> 15M ; retry
</I>&gt;<i> 1W ; expiry
</I>&gt;<i> 1D ) ; minimum
</I>&gt;<i>
</I>&gt;<i> 1D IN NS ns
</I>&gt;<i> ns 1D IN A 127.0.0.1
</I>&gt;<i>
</I>&gt;<i> pcscf 1D IN A 127.0.0.1
</I>&gt;<i> _sip.pcscf 1D SRV 0 0 4060 pcscf
</I>&gt;<i> _sip._udp.pcscf 1D SRV 0 0 4060 pcscf
</I>&gt;<i> _sip._tcp.pcscf 1D SRV 0 0 4060 pcscf
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> icscf 1D IN A 127.0.0.1
</I>&gt;<i> _sip 1D SRV 0 0 5060 icscf
</I>&gt;<i> _sip._udp 1D SRV 0 0 5060 icscf
</I>&gt;<i> _sip._tcp 1D SRV 0 0 5060 icscf
</I>&gt;<i>
</I>&gt;<i> open-ims.test. 1D IN A 127.0.0.1
</I>&gt;<i> open-ims.test. 1D IN NAPTR 10 50 &quot;s&quot; &quot;SIP+D2U&quot; &quot;&quot; _sip._udp.open-ims.test
</I>&gt;<i> open-ims.test. 1D IN NAPTR 20 50 &quot;s&quot; &quot;SIP+D2T&quot; &quot;&quot; _sip._tcp.open-ims.test
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> scscf 1D IN A 127.0.0.1
</I>&gt;<i> _sip.scscf 1D SRV 0 0 6060 scscf
</I>&gt;<i> _sip._udp.scscf 1D SRV 0 0 6060 scscf
</I>&gt;<i> _sip._tcp.scscf 1D SRV 0 0 6060 scscf
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> trcf 1D IN A 127.0.0.1
</I>&gt;<i> _sip.trcf 1D SRV 0 0 3060 trcf
</I>&gt;<i> _sip._udp.trcf 1D SRV 0 0 3060 trcf
</I>&gt;<i> _sip._tcp.trcf 1D SRV 0 0 3060 trcf
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> bgcf 1D IN A 127.0.0.1
</I>&gt;<i> _sip.bgcf 1D SRV 0 0 7060 bgcf
</I>&gt;<i> _sip._udp.bgcf 1D SRV 0 0 7060 bgcf
</I>&gt;<i> _sip._tcp.bgcf 1D SRV 0 0 7060 bgcf
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> mgcf 1D IN A 127.0.0.1
</I>&gt;<i> _sip.mgcf 1D SRV 0 0 8060 mgcf
</I>&gt;<i> _sip._udp.mgcf 1D SRV 0 0 8060 mgcf
</I>&gt;<i> _sip._tcp.mgcf 1D SRV 0 0 8060 mgcf
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> hss 1D IN A 127.0.0.1
</I>&gt;<i>
</I>&gt;<i> ue 1D IN A 127.0.0.1
</I>&gt;<i>
</I>&gt;<i> presence 1D IN A 127.0.0.1
</I>&gt;<i>
</I>&gt;<i> pcrf 1D IN A 127.0.0.1
</I>&gt;<i> clf 1D IN A 127.0.0.1
</I>&gt;<i>
</I>&gt;<i> *_resolv.conf in /etc:_*
</I>&gt;<i> # Generated by NetworkManager
</I>&gt;<i> nameserver 192.168.1.1 (my gateway for wlan0)
</I>&gt;<i> nameserver 127.0.0.1
</I>&gt;<i>
</I>&gt;<i> *_hosts in /etc:_*
</I>&gt;<i> 127.0.0.1 localhost
</I>&gt;<i> 127.0.1.1 open-ims.test open-ims
</I>&gt;<i> 192.168.1.34 desktop.open-ims.test desktop
</I>&gt;<i> # The following lines are desirable for IPv6 capable hosts
</I>&gt;<i> ::1 localhost ip6-localhost ip6-loopback
</I>&gt;<i> fe00::0 ip6-localnet
</I>&gt;<i> ff00::0 ip6-mcastprefix
</I>&gt;<i> ff02::1 ip6-allnodes
</I>&gt;<i> ff02::2 ip6-allrouters
</I>&gt;<i> ff02::3 ip6-allhost
</I>&gt;<i>
</I>&gt;<i> Someone could help me?
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> Rivaldo
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-CSCF mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">OpenIMSCore-CSCF at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">https://lists.berlios.de/mailman/listinfo/openimscore-cscf</A>
</I>&gt;<i>   
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
Fraunhofer FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)176 - 48 32 16 00
Web www.fokus.fraunhofer.de www.openimscore.org
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001836.html">[OpenIMSCore-CSCF] open-ims.test could be resolved
</A></li>
	<LI>Next message: <A HREF="001834.html">[OpenIMSCore-CSCF] [SVN-ser_ims] r753 - Fixed non-quit of cdp on	exit in Wharf.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1873">[ date ]</a>
              <a href="thread.html#1873">[ thread ]</a>
              <a href="subject.html#1873">[ subject ]</a>
              <a href="author.html#1873">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-cscf">More information about the OpenIMSCore-CSCF
mailing list</a><br>
</body></html>
